[pytest]
DJANGO_SETTINGS_MODULE = config.settings
python_files = tests.py test_*.py *_tests.py
python_classes = Test*
python_functions = test_*

# Directorio de pruebas
testpaths = apps tests

# Opciones de salida
addopts = 
    --verbose
    --strict-markers
    --tb=short
    --reuse-db
    --nomigrations
    --cov=apps
    --cov=config
    --cov-report=html
    --cov-report=term-missing:skip-covered
    --cov-config=.coveragerc
    -p no:warnings

# Marcadores personalizados
markers =
    slow: marca las pruebas como lentas (deselect with '-m "not slow"')
    unit: pruebas unitarias
    integration: pruebas de integraci√≥n
    api: pruebas de API/endpoints
    models: pruebas de modelos
    views: pruebas de vistas
    serializers: pruebas de serializers
    permissions: pruebas de permisos

# Variables de entorno para pruebas
env =
    DEBUG=False
    SECRET_KEY=test-secret-key-for-testing-only
